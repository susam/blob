var Nanobar=function(){"use strict";var t,i,e,h,s,n,o={width:"100%",height:"3px",zIndex:9999,top:"0"},l={width:0,height:"40%",clear:"both",transition:"height .3s"};t=function(t,i){var e;for(e in i){t.style[e]=i[e]}t.style.float="left"};h=function(){var t=this,i=this.width-this.here;if(i<.1&&i>-.1){s.call(this,this.here);this.moving=false;if(this.width==100){this.el.style.height=0;setTimeout(function(){t.cont.el.removeChild(t.el)},300)}}else{s.call(this,this.width-i/4);setTimeout(function(){t.go()},16)}};s=function(t){this.width=t;this.el.style.width=this.width+"%"};n=function(){var t=new i(this);this.bars.unshift(t)};i=function(i){this.el=document.createElement("div");this.el.style.backgroundColor=i.opts.bg;this.width=0;this.here=0;this.moving=false;this.cont=i;t(this.el,l);i.el.appendChild(this.el)};i.prototype.go=function(t){if(t){this.here=t;if(!this.moving){this.moving=true;h.call(this)}}else if(this.moving){h.call(this)}};e=function(i){var e=this.opts=i||{},h;e.bg=e.bg||"#000";this.bars=[];h=this.el=document.createElement("div");t(this.el,o);if(e.id){h.id=e.id}h.style.position=!e.target?"fixed":"relative";if(!e.target){document.getElementsByTagName("body")[0].appendChild(h)}else{e.target.insertBefore(h,e.target.firstChild)}n.call(this)};e.prototype.go=function(t){this.bars[0].go(t);if(t==100){n.call(this)}};return e}();